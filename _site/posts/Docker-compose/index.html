<!DOCTYPE html><html lang="en"> <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="google-site-verification" content="_fo0YQ3t-OohNenL4cLFX9_sGdqzNIbviBLtJUDDvBs" /><title>Docker-compose의 운용과 작성방식 |프리즈의 귀차니즘</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Docker-compose의 운용과 작성방식" /><meta name="author" content="Freez" /><meta property="og:locale" content="ko" /><meta name="description" content="본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다." /><meta property="og:description" content="본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다." /><link rel="canonical" href="https://freez2385.github.io/posts/Docker-compose/" /><meta property="og:url" content="https://freez2385.github.io/posts/Docker-compose/" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-06T22:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Docker-compose의 운용과 작성방식" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Freez" /><meta name="google-site-verification" content="_fo0YQ3t-OohNenL4cLFX9_sGdqzNIbviBLtJUDDvBs" /> <script type="application/ld+json"> {"headline":"Docker-compose의 운용과 작성방식","dateModified":"2020-10-06T21:54:02+09:00","datePublished":"2020-10-06T22:00:00+09:00","url":"https://freez2385.github.io/posts/Docker-compose/","mainEntityOfPage":{"@type":"WebPage","@id":"https://freez2385.github.io/posts/Docker-compose/"},"author":{"@type":"Person","name":"Freez"},"description":"본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다.","@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script> window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>'); </script> <script data-ad-client="ca-pub-6084725314079241" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous" async></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script> <script src="/assets/js/dist/commons.js" async></script> <script src="/assets/js/dist/timeago.min.js" async></script><link rel="preload" as="style" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/syntax.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/syntax.css"> <script src="/assets/js/dist/jquery.magnific-popup.min.js"></script> <script src="/assets/js/dist/magnific-popup-setting.js"></script><link rel="stylesheet" href="/assets/css/magnific-popup.css"><link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css" /> <script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script> <script src="/assets/js/dist/toc.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg"> </a></div><div class="profile-text mt-3"><div id="site-title"> <a href="/">프리즈의 귀차니즘</a></div><div id="site-subtitle">일본에 거주하는 개발자의 기술 블로그</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i> <span>홈</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i> <span>카테고리</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i> <span>태그</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i> <span>포스트 이력</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i> <span>포트폴리오</span> </a></li></ul></div><div class="contact d-flex justify-content-around mt-4"> <a href="https://github.com/FREEZ2385" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="javascript:window.open('mailto:' + ['schlee9703','gmail.com'].join('@'))"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" target="_blank"> <i class="fas fa-rss"></i> </a></div><div class="language d-flex justify-content-center"> <a class="language-dropdown"> <i class="fa fa-language"></i> <span>Language</span> </a></div><div class="language d-flex justify-content-around"> <a href="https://freez2385.github.io/">Korean</a> <a href="https://freez2385.github.io/ja/">Japanese</a></div></div><div id="main-wrapper"> <!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Docker-compose의 운용과 작성방식</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <a href="javascript:;">Cancel</a></div></div><div id="main"> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"> <!-- Define the liquid date formats. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Docker-compose의 운용과 작성방식</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago" data-toggle="tooltip" title="Tue, Oct 6, 2020, 10:00 PM +0900"> Oct 6, 2020 <i class="unloaded">2020-10-06T22:00:00+09:00</i> </span> on <a href='/categories/development/'>Development</a>, <a href='/categories/docker/'>Docker</a></div></div><div class="post-content"><p><strong>본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다.</strong></p><p>저번 포스팅에서 Dockerfile을 이용하여 컨테이너를 통해서 이미지를 빌드시키는 방법을 설명했었다. 이번에는 이러한 컨테이너들을 다중으로 존재할 때 쉽게 제어가 가능한 <code class="language-plaintext highlighter-rouge">Docker-compose</code> 에 대해서 알아보도록 하겠다. <code class="language-plaintext highlighter-rouge">Docker-compose</code> 는 Docker를 이용하기 위한 툴로써 여러가지 컨테이너들을 관리 혹은 실행하기에 아주 편리함을 가지고 있다. 특히 docker의 명령어로 사용하는 run의 경우 환경 설정을 하고 실행을 위해서는 몇번 써야 하는 경우가 빈번하지만, <code class="language-plaintext highlighter-rouge">Docker-compose</code> 는 이러한 다중 명령어를 처리하는 docker-compose.yml에 작성해 <code class="language-plaintext highlighter-rouge">up</code> 혹은 <code class="language-plaintext highlighter-rouge">run</code> 하나로 순식간에 다중 명령어를 입력할 수 있다.</p><p>거기에다 Docker-compose는 거의 대부분의 환경을 구상(Product, Test, Development)할 수 있기에, 다양한 환경으로 프로젝트를 관리 혹은 개발이 가능하다. 이번에는 저번 포스팅에서 작성한 프로젝트를 기반으로 직접 <code class="language-plaintext highlighter-rouge">Docker-compose</code> 를 사용해 실행까지 하는 방법에 대해서 설명해보도록 하겠다.</p><hr /><h2 id="docker-composeyml">Docker-compose.yml</h2><p><code class="language-plaintext highlighter-rouge">Docker-compose</code> 를 사용하기 위해선 우선 <code class="language-plaintext highlighter-rouge">yml</code> 파일이 필요하다. docker-compose.yml 파일을 생성해서 각 환경에 대한 구성 및 이미지명, 그리고 구성을 좀 더 다양하게 작동시킬 수 있다. 저번에 작성한 Dockerfile이 쉽게 컨테이너를 생성할 수 있다면 Docker-compose는 쉽게 컨테이너를 조작할 수 있다고 볼 수 있다. 그럼 지난 포스팅에 이어서 django의 프로젝트를 docker-compose로 실행해보도록 하겠다.</p><p>지난 포스팅 =&gt; <a href="https://freez2385.github.io/posts/Dockerfile/">Dockerfile 작성 및 빌드를 해보자</a></p><p>지난 포스팅에서 작성한 Django 프로젝트에 Dockerfile까지 생성했다면, 이번에는 docker-compose.yml 파일을 생성해 다음과 같이 작성해 보도록 하자.</p><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.0"</span>
   
<span class="na">services</span><span class="pi">:</span>
  <span class="na">db</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">postgres</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">POSTGRES_DB=postgres</span>
      <span class="pi">-</span> <span class="s">POSTGRES_USER=postgres</span>
      <span class="pi">-</span> <span class="s">POSTGRES_PASSWORD=postgres</span>
  <span class="na">web</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">.</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">python manage.py runserver 0.0.0.0:8000</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">.:/code</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">8000:8000"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">db</span>
</pre></table></code></div></div><p>간단히 해석을 하자면 맨 위에 있는 <code class="language-plaintext highlighter-rouge">version</code> 은 yaml 파일의 버전이라고 생각하면 된다. 대체로 docker는 <code class="language-plaintext highlighter-rouge">3.0</code> 에 compose가 적합하기에 보통은 <code class="language-plaintext highlighter-rouge">3.0</code> 을 사용한다. yaml파일에서는 version이 맨 위에 올라가도록 해야 한다.</p><p>그리고 <code class="language-plaintext highlighter-rouge">services</code> 는 docker 컨테이너의 옵션을 의미한다. 각 웹 어플리케이션, 데이터베이스등 하나의 프로젝트라는 의미로도 사용하고 있다. <code class="language-plaintext highlighter-rouge">services</code> 안에서 각 어플리케이션, 데이터베이스 등의 다양한 환경등을 제각각 조정 가능하다.</p><p>각 <code class="language-plaintext highlighter-rouge">db</code> , <code class="language-plaintext highlighter-rouge">web</code> 는 말할 필요 없이 데이터베이스, 웹 어플리케이션의 옵션 설정이다. 하지만 각 입력에 사용하는 명령어가 다르니 주의해야 한다. 우선 <code class="language-plaintext highlighter-rouge">db</code> 에 대한 내용부터 알아보도록 하겠다.</p><p><code class="language-plaintext highlighter-rouge">db -&gt; image</code> 는 데이터베이스의 이미지명이다. docker hub에서 데이터베이스명을 직접 빌려와서 컨테이너까지 전부 생성하도록 만들어준다. 대표적으로 postgres, mongodb등 다양한 이미지를 가져올 수 있다.</p><p><code class="language-plaintext highlighter-rouge">db -&gt; enviroment</code> 는 데이터베이스 내 환경설정을 의미한다. 각 데이터베이스에 필요한 환경들을 여기서 설정할 수 있으며, 데이터 베이스에 필요한 옵션을 수정할 수 있다.</p><p><code class="language-plaintext highlighter-rouge">web -&gt; build</code> 는 저번 포스팅에서 알려준 docker build의 명령어이다. docker를 빌드할때 어디에 빌드할 것인지 위치만 지정해주면 해당 위치의 Dockerfile을 알아서 찾아 빌드작업을 실행한다. 지난 포스팅에 작성한 Dockerfile을 자동으로 docker-compose에서 실행할 수 있다는 소리가 될 수 있다.</p><p><code class="language-plaintext highlighter-rouge">web -&gt; command</code> 는 빌드에 성공하고 난 후에 자동으로 진행해줄 명령어이다. <code class="language-plaintext highlighter-rouge">docker run</code> 의 명령어를 빌드하자마자 실행한다고 볼 수 있다. 그렇기에 빌드가 성공하면 자동으로 django의 runserver를 이용해 서버를 작동시키는 의미이기도 하다.</p><p><code class="language-plaintext highlighter-rouge">web -&gt; volumes</code> 는 컨테이너 내부에서 실행할 볼륨 위치이다. 지난 dockerfile에 파일들을 전부 컨테이너의 /code 안에 카피하는 형태로 되어 있기에, 이번에 실행되는 데이터들도 역시 volumes에 위치를 지정해주어야 한다.</p><p><code class="language-plaintext highlighter-rouge">web -&gt; ports</code> 는 컨테이너의 포트 할당이다. <code class="language-plaintext highlighter-rouge">docker run -p</code> 와 같은 명령어이다. 해당 서비스의 웹 어플리케이션의 포트를 지정해줄 수 있으며, 지정하지 않는다면 각 웹 프레임워크, 데이터베이스 고유 포트로 지정해준다.</p><p><code class="language-plaintext highlighter-rouge">web -&gt; depend_on</code> 은 서비스 내 다른 환경과의 의존을 의미한다. django의 데이터베이스로 postgres를 이용하기 위해 의존 관계를 <code class="language-plaintext highlighter-rouge">db</code> 로 지정했기 때문에 자연스럽게 연동이 가능하게끔 조정이 되어 있다.</p><hr /><h2 id="docker-compose-명령어">Docker-compose 명령어</h2><p>이제 docker-compose.yml을 작성하고 나면 본격적으로 docker를 빌드 할 수 있게 되었다. 실제로 docker 명령어를 작성하지 않고도 docker-compose 하나면 다 가능하기 때문에 간편한 것이 장점이라 할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker-compose up
</pre></table></code></div></div><p>docker-compose.yml의 파일 위치에서 실행 시 자동으로 파일의 정보를 인식해 빌드부터 실행까지 전부 처리해준다.</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="o">&gt;</span> docker-compose up
Starting projectfordocker_db_1 ... <span class="k">done
</span>Starting projectfordocker_web_1 ... <span class="k">done
</span>Attaching to projectfordocker_db_1, projectfordocker_web_1
db_1   | 
db_1   | PostgreSQL Database directory appears to contain a database<span class="p">;</span> Skipping initialization
db_1   | 
db_1   | 2020-10-06 12:40:39.512 UTC <span class="o">[</span>1] LOG:  starting PostgreSQL 13.0 <span class="o">(</span>Debian 13.0-1.pgdg100+1<span class="o">)</span> on x86_64-pc-linux-gnu, compiled by gcc <span class="o">(</span>Debian 8.3.0-6<span class="o">)</span> 8.3.0, 64-bit
db_1   | 2020-10-06 12:40:39.512 UTC <span class="o">[</span>1] LOG:  listening on IPv4 address <span class="s2">"0.0.0.0"</span>, port 5432
db_1   | 2020-10-06 12:40:39.512 UTC <span class="o">[</span>1] LOG:  listening on IPv6 address <span class="s2">"::"</span>, port 5432
db_1   | 2020-10-06 12:40:39.514 UTC <span class="o">[</span>1] LOG:  listening on Unix socket <span class="s2">"/var/run/postgresql/.s.PGSQL.5432"</span>
db_1   | 2020-10-06 12:40:39.519 UTC <span class="o">[</span>26] LOG:  database system was shut down at 2020-10-05 13:38:31 UTC
db_1   | 2020-10-06 12:40:39.530 UTC <span class="o">[</span>1] LOG:  database system is ready to accept connections
web_1  | Watching <span class="k">for </span>file changes with StatReloader
</pre></table></code></div></div><p>필자는 한번 빌드를 한 터라 빌드 단계를 스킵하고 바로 port, command 작업으로 들어갔다. 그리고 나서 url로 localhost:8000 으로 들어가면 django 프로젝트가 실행되는 것을 확인할 수 있다. 이렇게 명령어 하나로 빌드부터 시작해 시작까지 전부 겸비한 docker-compose를 이용해서 필자는 편리함을 확실하게 느낄 수 있었다. 그리고 추가적으로</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker-compose up -d
</pre></table></code></div></div><p>을 사용하면 현재 실행되는 컨테이너의 로그들을 전부 무시하고 docker에서 계속 run상태로 유지해준다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker-compose down
</pre></table></code></div></div><p>up이 있으면 반드시 down도 있는 법이다. 빌드부터 커멘드까지 입력하는 것이 up이라면 종료하는 것인 down으로 처리할 수 있다. 단순히 종료만 하는 것이 down이라면</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker-compose down --rmi all 
</pre></table></code></div></div><p>이 명령어는 해당 이미지까지 순식간에 날려버릴 수 있다. 그렇기에 개발환경에 변화가 있어서 이미지를 새로 빌드 해야 한다는 경우에는 이렇게 이미지까지 삭제시키고 다시 빌드시킬 수 있다.</p></div><div class="post-tail text-muted"><div class="mb-4"> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/virtual/" class="post-tag no-text-decoration" >Virtual</a> <a href="/tags/container/" class="post-tag no-text-decoration" >Container</a> <a href="/tags/image/" class="post-tag no-text-decoration" >Image</a></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 topbar-down"><div class="access"><div id="access-lastmod" class="post mb-4"><h3 data-toc-skip>최근 포스트</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Mysql/">Docker-compose를 이용한 MySQL 구축</a></li><li><a href="/posts/Spring-Boot/">VSCode를 사용하여 Spring Boot API 작성</a></li><li><a href="/posts/React-Redux/">React Redux의 원리</a></li><li><a href="/posts/React-Redux2/">React Redux를 사용해보자(Redux Hooks 추가 및 devtools 사용)</a></li><li><a href="/posts/React-Testing-Library/">React Testing Library 컴포넌트 테스트 사용법</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>태그</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/component/">Component</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/virtual/">Virtual</a> <a class="post-tag" href="/tags/image/">Image</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/redux/">Redux</a> <a class="post-tag" href="/tags/github/">Github</a> <a class="post-tag" href="/tags/djangorestframework/">DjangoRestframework</a> <a class="post-tag" href="/tags/django/">Django</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2">목차</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- The related posts of current post. Placed in the bottom of every single post. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2"><h3 class="pt-2 mt-1 mb-4" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Docker/"><div class="card-body"> <span class="timeago small"> Sep 28, 2020 <i class="unloaded">2020-09-28T22:25:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker의 기본</h3><div class="text-muted small"><p>필자는 웹 어플리케이션 개발을 하던 시절에 인프라나 백엔드에 대해서 많이 몰랐던 시기이고 이것저것 공부를 하던 도중에 Docker를 알게 되면서 이것 저것 공부한 내용을 여기에 적어보기로 하겠다. 대체로 서버에 주로 사용하는 콘테이너형 가상 플랫폼으로 Docker를 주로 애용하고 있다. 필자도 서버의 일부중 Docker 컨테이너를 직접 빌드해 사용해본...</p></div></div></a></div><div class="card"> <a href="/posts/Dockerfile/"><div class="card-body"> <span class="timeago small"> Oct 2, 2020 <i class="unloaded">2020-10-02T20:40:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Dockerfile 작성 및 빌드를 해보자</h3><div class="text-muted small"><p>본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다. 필자는 프로젝트를 개발하면서 서버 인프라에 Docker를 사용하고 있다. 그러면서 Docker에 이미지를 생성해 직접 빌드하는 경우도 종종 볼 수 있었다. 이번에는 직접 Docker에 이미지 생성을 하는 Dockerfile 이라는 개념에 대해 설명하도록 하겠다. 이전 포스팅에서 이미지...</p></div></div></a></div><div class="card"> <a href="/posts/Mysql/"><div class="card-body"> <span class="timeago small"> Nov 22, 2022 <i class="unloaded">2022-11-22T21:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Docker-compose를 이용한 MySQL 구축</h3><div class="text-muted small"><p>개요 필자가 Spring Boot를 익히는 동안 데이터베이스의 연계도 필요하다 생각했기에, Spring에 DB접속하기 쉬운 MySQL를 구축할 예정을 잡았다. 원래대로라면 로컬에 MySQL를 넣으면 간단하게 될 일이였지만 나중에 로컬에서 MySQL를 삭제하기 귀찮을 뿐더러, MySQL를 관리할 수 있는 툴로 phpMyAdmin을 같이 구축하는 방향으...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Dockerfile/" class="btn btn-outline-primary"><p>Dockerfile 작성 및 빌드를 해보자</p></a> <a href="/posts/React/" class="btn btn-outline-primary"><p>React란 무엇인가?</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const observer = lozad(); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="copyright"><p class="mb-0"> © 2019-2023<a href="https://github.com/FREEZ2385" class="ml-1">Lee SangCheol</a>. <br>Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a>, theme by <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a>.</p></div><div class="license"><p class="mb-0"> The blog posts on this site are licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted">태그</h4><!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/component/">Component</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/virtual/">Virtual</a> <a class="post-tag" href="/tags/image/">Image</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/redux/">Redux</a> <a class="post-tag" href="/tags/github/">Github</a> <a class="post-tag" href="/tags/djangorestframework/">DjangoRestframework</a> <a class="post-tag" href="/tags/django/">Django</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://freez2385.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
