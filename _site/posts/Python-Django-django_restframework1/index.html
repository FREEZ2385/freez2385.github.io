<!DOCTYPE html><html lang="en"> <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="google-site-verification" content="_fo0YQ3t-OohNenL4cLFX9_sGdqzNIbviBLtJUDDvBs" /><title>Django restframework의 기본 및 시작하기 |프리즈의 귀차니즘</title><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Django restframework의 기본 및 시작하기" /><meta name="author" content="Freez" /><meta property="og:locale" content="ko" /><meta name="description" content="본 포스트는 MacOS 10.15.6 을 기준으로 작성하였습니다." /><meta property="og:description" content="본 포스트는 MacOS 10.15.6 을 기준으로 작성하였습니다." /><link rel="canonical" href="https://freez2385.github.io/posts/Python-Django-django_restframework1/" /><meta property="og:url" content="https://freez2385.github.io/posts/Python-Django-django_restframework1/" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-23T21:20:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Django restframework의 기본 및 시작하기" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Freez" /><meta name="google-site-verification" content="_fo0YQ3t-OohNenL4cLFX9_sGdqzNIbviBLtJUDDvBs" /> <script type="application/ld+json"> {"headline":"Django restframework의 기본 및 시작하기","dateModified":"2020-09-23T21:43:04+09:00","datePublished":"2020-09-23T21:20:00+09:00","url":"https://freez2385.github.io/posts/Python-Django-django_restframework1/","mainEntityOfPage":{"@type":"WebPage","@id":"https://freez2385.github.io/posts/Python-Django-django_restframework1/"},"@type":"BlogPosting","description":"본 포스트는 MacOS 10.15.6 을 기준으로 작성하였습니다.","author":{"@type":"Person","name":"Freez"},"@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-40Q1H33Y1E"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-40Q1H33Y1E'); </script><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script> window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>'); </script> <script data-ad-client="ca-pub-6084725314079241" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous" async></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script> <script src="/assets/js/dist/commons.js" async></script> <script src="/assets/js/dist/timeago.min.js" async></script><link rel="preload" as="style" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/syntax.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/syntax.css"> <script src="/assets/js/dist/jquery.magnific-popup.min.js"></script> <script src="/assets/js/dist/magnific-popup-setting.js"></script><link rel="stylesheet" href="/assets/css/magnific-popup.css"><link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css" /> <script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script> <script src="/assets/js/dist/toc.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg"> </a></div><div class="profile-text mt-3"><div id="site-title"> <a href="/">프리즈의 귀차니즘</a></div><div id="site-subtitle">일본에 거주하는 개발자의 기술 블로그</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i> <span>홈</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i> <span>카테고리</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i> <span>태그</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i> <span>포스트 이력</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i> <span>포트폴리오</span> </a></li></ul></div><div class="contact d-flex justify-content-around mt-4"> <a href="https://github.com/FREEZ2385" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="javascript:window.open('mailto:' + ['schlee9703','gmail.com'].join('@'))"> <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" target="_blank"> <i class="fas fa-rss"></i> </a></div><div class="language d-flex justify-content-center"> <a class="language-dropdown"> <i class="fa fa-language"></i> <span>Language</span> </a></div><div class="language d-flex justify-content-around"> <a href="https://freez2385.github.io/">Korean</a> <a href="https://freez2385.github.io/ja/">Japanese</a></div></div><div id="main-wrapper"> <!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Django restframework의 기본 및 시작하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <a href="javascript:;">Cancel</a></div></div><div id="main"> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"> <!-- Define the liquid date formats. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Django restframework의 기본 및 시작하기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago" data-toggle="tooltip" title="Wed, Sep 23, 2020, 9:20 PM +0900"> Sep 23, 2020 <i class="unloaded">2020-09-23T21:20:00+09:00</i> </span> on <a href='/categories/development/'>Development</a>, <a href='/categories/python/'>Python</a>, <a href='/categories/django-restframework/'>Django Restframework</a></div><div> Updated <span class="timeago lastmod" data-toggle="tooltip" title="Wed, Sep 23, 2020, 9:43 PM +0900"> Sep 23, 2020 <i class="unloaded">2020-09-23T21:43:04+09:00</i> </span></div></div><div class="post-content"><p><strong>본 포스트는 MacOS 10.15.6 을 기준으로 작성하였습니다.</strong></p><p>Django는 웹 프레임워크로 이용하면서 동시에 RestfulAPI 전용의 어플리케이션으로도 활용할 수 있다. RestfulAPI 서버로 활용가능하며 때에 따라서는 백앤드 어플리케이션으로 활용할 수 있다. 필자도 React.Js를 작성하면서 DB에서 불러내는 데이터를 파싱하기 위해 백앤드 전용 어플리케이션으로 Django Rest Framework를 사용하고 있다. 그렇기에 React.Js는 프론트 전용으로만 사용할 수 있어 프론트엔드 백엔드의 정의를 확실히 구분지을 수 있게 되었다.</p><p>Django Rest Framework는 기본적으로 Django의 라이브러리의 일종이기 때문에 PyPI에서 다운받아서 사용할 수 있다. pip에서 다운로드 받아보도록 하자.</p><h2 id="기본-설치-및-준비과정">기본 설치 및 준비과정</h2><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>python <span class="nt">-m</span> pip <span class="nb">install </span>djangorestframework
python <span class="nt">-m</span> pip <span class="nb">install </span>django-filter <span class="c"># Restful API에서 filter를 사용할 때 필요함</span>
</pre></table></code></div></div><p>Django Rest Framework를 설치하고 나면 실제로 RestfulAPI 서버로 쓰일 Django 프로젝트를 만들어보고 그 이전에 필요한 설정을 해두도록 하겠다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>└── test_restframework # Project명
    ├── db.sqlite3
    ├── main # 모델을 넣을 App명
    │   ├── __init__.py
    │   ├── __pycache__
    │   ├── admin.py *
    │   ├── apps.py
    │   ├── migrations
    │   ├── models.py *
    │   ├── tests.py
    │   └── views.py
    ├── manage.py
    └── test_restframework
        ├── __init__.py
        ├── __pycache__
        ├── asgi.py
        ├── settings.py *
        ├── urls.py
        └── wsgi.py
</pre></table></code></div></div><p>위에 *기호는 기본 프로젝트 디렉토리에서 수정을 조금 한 파일이다. 실제로 모델을 등록하고 추가하기 위해 한 내용들이라고 할 수 있다. Django의 Model등록 방법은 해당 포스트에서 확인하기 바란다.</p><p><u>추가 예정</u></p><p>수정한 모델 내용은 다음과 같다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c1"># models.py
</span><span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="nc">CharField</span><span class="p">(</span><span class="sh">'</span><span class="s">Author name</span><span class="sh">'</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Book</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="nc">CharField</span><span class="p">(</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">pages</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="nc">IntegerField</span><span class="p">(</span><span class="sh">'</span><span class="s">Page Number</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="nc">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="p">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</pre></table></code></div></div><p>그리고 이제 본격적인 RestFramework를 넣어보기로 하겠다. 우선 Django RestFramework의 기본적인 구상은 이렇다.</p><p><img src="https://res.cloudinary.com/dabajegcx/image/upload/v1747525897/rest_framework1_iruixr.png" alt="rest_framework1" /></p><p>기본적인 Django 의 DB에서 클라이언트의 흐름도에서 Serializer가 추가되었다. Serializer는 기존 HTML의 형태로 랜더링된 Queryset를 Restful에 대한 JSON으로 매핑하여 Response에 보내지는 역할을 하고 있다. 이제 실제로 넣어보도록 하겠다. 해당 내용은 공식 문서를 기반으로 재작성해보았습니다. 공식 문서는 밑의 URL를 참조해주시기 바란다.</p><p><a href="https://www.django-rest-framework.org/#installation">how to install and apply django rest framework</a></p><h2 id="settingspy">Settings.py</h2><p>우선 settings.py에 Django Restframework를 지정해 주기로 하겠다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="c1"># settings.py
</span><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sh">'</span><span class="s">django.contrib.admin</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">django.contrib.auth</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">django.contrib.contenttypes</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">django.contrib.sessions</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">django.contrib.messages</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">django.contrib.staticfiles</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">main</span><span class="sh">'</span><span class="p">,</span> <span class="c1"># 모델 등록용 App
</span>    <span class="sh">'</span><span class="s">rest_framework</span><span class="sh">'</span><span class="p">,</span>
<span class="p">]</span>

<span class="bp">...</span>

<span class="c1"># 추가 기입
</span><span class="n">REST_FRAMEWORK</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">'</span><span class="s">DEFAULT_PERMISSION_CLASSES</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span>
        <span class="sh">'</span><span class="s">rest_framework.permissions.DjangoModelPermissionsOrAnonReadOnly</span><span class="sh">'</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="serializerspy">Serializers.py</h2><p>그리고 main 폴더 안에 serializers.py 파일을 새로 만들어 serializer를 보관하는 파일로 지정하는게 편하다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1"># add serializers.py
</span><span class="kn">from</span> <span class="n">main</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="n">rest_framework</span> <span class="kn">import</span> <span class="n">serializers</span>

<span class="c1"># Serializers define the API representation.
</span><span class="k">class</span> <span class="nc">AuthorSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Author</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Serializers define the API representation.
</span><span class="k">class</span> <span class="nc">BookSerializer</span><span class="p">(</span><span class="n">serializers</span><span class="p">.</span><span class="n">ModelSerializer</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Book</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">pages</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">author</span><span class="sh">'</span><span class="p">]</span>
</pre></table></code></div></div><h2 id="viewspy">Views.py</h2><p>그리고 views.py에서 각 모델에 대한 viewset를 만들어보도록 하겠다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c1"># views.py
</span><span class="kn">from</span> <span class="n">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="n">main</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">serializers</span>
<span class="kn">from</span> <span class="n">rest_framework</span> <span class="kn">import</span> <span class="n">viewsets</span>

<span class="c1"># Author model viewset
</span><span class="k">class</span> <span class="nc">AuthorViewSet</span><span class="p">(</span><span class="n">viewsets</span><span class="p">.</span><span class="n">ModelViewSet</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Author</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">AuthorSerializer</span>

<span class="c1"># Book model viewset
</span><span class="k">class</span> <span class="nc">BookViewSet</span><span class="p">(</span><span class="n">viewsets</span><span class="p">.</span><span class="n">ModelViewSet</span><span class="p">):</span>
    <span class="n">queryset</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">Book</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">all</span><span class="p">()</span>
    <span class="n">serializer_class</span> <span class="o">=</span> <span class="n">serializers</span><span class="p">.</span><span class="n">BookSerializer</span>
</pre></table></code></div></div><h2 id="urlspy">Urls.py</h2><p>이제 View지정까지 했으니 URL에 viewset를 지정하도록 하겠다. 우선 편의성을 위해 main폴더 안에 urls.py를 추가했다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c1"># add main/urls.py
</span><span class="kn">from</span> <span class="n">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="n">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>
<span class="kn">from</span> <span class="n">rest_framework</span> <span class="kn">import</span> <span class="n">routers</span>
<span class="kn">from</span> <span class="n">main</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">router</span> <span class="o">=</span> <span class="n">routers</span><span class="p">.</span><span class="nc">DefaultRouter</span><span class="p">()</span>
<span class="n">router</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">author</span><span class="sh">'</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">AuthorViewSet</span><span class="p">)</span>
<span class="n">router</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="sa">r</span><span class="sh">'</span><span class="s">book</span><span class="sh">'</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">BookViewSet</span><span class="p">)</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
  <span class="nf">path</span><span class="p">(</span><span class="sh">''</span><span class="p">,</span> <span class="nf">include</span><span class="p">(</span><span class="n">router</span><span class="p">.</span><span class="n">urls</span><span class="p">)),</span>
  <span class="c1"># Django Restframework에 로그인 인증을 위한 URL.
</span>  <span class="nf">path</span><span class="p">(</span><span class="sh">'</span><span class="s">api-auth/</span><span class="sh">'</span><span class="p">,</span> <span class="nf">include</span><span class="p">(</span><span class="sh">'</span><span class="s">rest_framework.urls</span><span class="sh">'</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="sh">'</span><span class="s">rest_framework</span><span class="sh">'</span><span class="p">)),</span>

<span class="p">]</span>

</pre></table></code></div></div><p>그리고 프로젝트에 해당 App의 URL을 집어넣으면 간단한 Viewset가 완성된다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c1"># test_restframework/urls.py
</span><span class="kn">from</span> <span class="n">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="n">django.urls</span> <span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nf">path</span><span class="p">(</span><span class="sh">'</span><span class="s">admin/</span><span class="sh">'</span><span class="p">,</span> <span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="nf">path</span><span class="p">(</span><span class="sh">'</span><span class="s">main/</span><span class="sh">'</span><span class="p">,</span> <span class="nf">include</span><span class="p">(</span><span class="sh">'</span><span class="s">main.urls</span><span class="sh">'</span><span class="p">))</span>
<span class="p">]</span>
</pre></table></code></div></div><h2 id="결과">결과</h2><p>이제 완료되었다면 해당 마이그레이션 부터 실행까지 시키도록 하겠다.</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>python manage.py makemigrations

python manage.py migrate

python manage.py createsuperuser

python manage.py runserver
</pre></table></code></div></div><p>실행시킨 후 localhost:8000/main/으로 들어가게 된다면 restframework GUI로 들어갈 수 있다.</p><p><img src="https://res.cloudinary.com/dabajegcx/image/upload/v1747525902/rest_framework2_u3o7ao.png" alt="rest_framework2" /></p><p><img src="https://res.cloudinary.com/dabajegcx/image/upload/v1747525902/rest_framework3_tfwdmm.png" alt="rest_framework3" /></p><p>이렇게 GUI확인이 가능하며 Restful API 테스트가 가능한 Postman을 이용하여 직접 API테스트도 가능하다</p><p><img src="https://res.cloudinary.com/dabajegcx/image/upload/v1747525902/rest_framework3_tfwdmm.png" alt="rest_framework4" /></p><p>이렇게 Restful API로 백엔드 어플리케이션으로 활용이 가능하며 프론트엔드는 React.js로 사용하여 완벽하게 프론트엔드와 백엔드를 나누어 개발이 가능하다는 점과 응용을 하여 인증과 Get 혹은 Post만 사용 가능하게 권한 설정도 가능하다. 자세한 응용법은 다음 포스트에 작성하겠다.</p></div><div class="post-tail text-muted"><div class="mb-4"> <a href="/tags/django/" class="post-tag no-text-decoration" >Django</a> <a href="/tags/djangorestframework/" class="post-tag no-text-decoration" >DjangoRestframework</a></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 topbar-down"><div class="access"><div id="access-lastmod" class="post mb-4"><h3 data-toc-skip>최근 포스트</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Mysql/">Docker-compose를 이용한 MySQL 구축</a></li><li><a href="/posts/Spring-Boot/">VSCode를 사용하여 Spring Boot API 작성</a></li><li><a href="/posts/React-Redux/">React Redux의 원리</a></li><li><a href="/posts/React-Redux2/">React Redux를 사용해보자(Redux Hooks 추가 및 devtools 사용)</a></li><li><a href="/posts/React-Testing-Library/">React Testing Library 컴포넌트 테스트 사용법</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>태그</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/component/">Component</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/virtual/">Virtual</a> <a class="post-tag" href="/tags/image/">Image</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/redux/">Redux</a> <a class="post-tag" href="/tags/github/">Github</a> <a class="post-tag" href="/tags/djangorestframework/">DjangoRestframework</a> <a class="post-tag" href="/tags/django/">Django</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2">목차</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- The related posts of current post. Placed in the bottom of every single post. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2"><h3 class="pt-2 mt-1 mb-4" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Python-Django-django_restframework2/"><div class="card-body"> <span class="timeago small"> Sep 25, 2020 <i class="unloaded">2020-09-25T21:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Django restframework의 filtering / ordering, APIview</h3><div class="text-muted small"><p>본 포스트는 MacOS 10.15.7 을 기준으로 작성하였습니다. 저번에 작성한 포스트에서 Django Restframework를 이용하여 Restful Api로 만들어 보는 포스트를 사용해보았다. 필자는 현재 개발하는 프로젝트에서 모델에서 직접 가져오는 View이외에도 다른 Request를 불러올 시 백엔드에서 처리하는 함수에도 사용하며 여러 부분...</p></div></div></a></div><div class="card"> <a href="/posts/Pandas-Dataframe-create/"><div class="card-body"> <span class="timeago small"> Apr 25, 2020 <i class="unloaded">2020-04-25T13:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Pandas Dataframe 생성 및 이용</h3><div class="text-muted small"><p>Pandas Dataframe 생성 및 이용 데이터프레임 생성 데이터프레임을 추가할 시에는 Dict형태로 Key에는 행의 이름을 입력 Value에 각 행별 데이터를 열순번으로 넣어야 한다. 1 2 3 4 5 6 7 8 import pandas as pd data_a = ['1','2','3','4'] # a라는 행의 데이터 열순번별 리스트 d...</p></div></div></a></div><div class="card"> <a href="/posts/Python-pytest/"><div class="card-body"> <span class="timeago small"> Sep 14, 2020 <i class="unloaded">2020-09-14T15:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Python전용 테스트 라이브러리 Pytest</h3><div class="text-muted small"><p>본 포스트는 MacOS 10.15.6 을 기준으로 작성하였습니다. 개발하는 사람들에게 있어서 꼭 필요한 것 중 하나는 바로 테스트이다. 저마다의 개발언어에 맞는 테스트 방법이 있으며 이번에 소개시켜드릴 기능은 파이썬의 테스트 라이브러리인 Pytest를 소개시켜드릴까 한다. 필자도 최근 Django를 사용하면서 테스트 방법을 찾던 도중 Pytest를 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Python-Pandas-read_excel/" class="btn btn-outline-primary"><p>Pandas에서 Excel파일을 데이터프레임화로 변경 (pandas.read_excel)</p></a> <a href="/posts/Python-Django-django_restframework2/" class="btn btn-outline-primary"><p>Django restframework의 filtering / ordering, APIview</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const observer = lozad(); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="copyright"><p class="mb-0"> © 2019-2025<a href="https://github.com/FREEZ2385" class="ml-1">Lee SangCheol</a>. <br>Powered by <a href="https://jekyllrb.com" target="_blank">Jekyll</a>, theme by <a href="https://github.com/cotes2020/jekyll-theme-chirpy/">Chirpy</a>.</p></div><div class="license"><p class="mb-0"> The blog posts on this site are licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted">태그</h4><!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/component/">Component</a> <a class="post-tag" href="/tags/docker/">Docker</a> <a class="post-tag" href="/tags/virtual/">Virtual</a> <a class="post-tag" href="/tags/image/">Image</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/redux/">Redux</a> <a class="post-tag" href="/tags/github/">Github</a> <a class="post-tag" href="/tags/djangorestframework/">DjangoRestframework</a> <a class="post-tag" href="/tags/django/">Django</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://freez2385.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
